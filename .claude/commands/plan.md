---
name: plan
description: 仕様書を元にArchitectが設計し、Linear登録用のタスクリストを作成します
model: opus
argument-hint: [spec-file-path]
---

仕様書に基づき、実装計画を策定します。

## 手順

1. **入力確認**:
   - 引数がある場合、そのファイルを仕様書（Spec）として読み込む。
   - 引数がない場合、`ls docs/specs` を表示して選択させる。

2. **現状分析**:
   - `agent: architect` として振る舞う。
   - `CLAUDE.md` と `package.json`、関連コードを読み込み、仕様書とのギャップを分析。

3. **設計と合意**:
   - 実装方針を提案し、ユーザーの承認を得る。
   - 技術的なリスクや懸念点（Pre-mortem）があれば先に提示する。

4. **タスク分解**:
   - 実装プロセスをステップバイステップに分解する。
   - 各ステップを **「Linearの親タスク・サブタスク」** として登録しやすい形式で出力する。

5. **完了**:
   - 「この計画でLinearにタスクを作成しますか？」とユーザーに確認して終了。
